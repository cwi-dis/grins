<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Alain Uginet">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (Win98; I) [Netscape]">
   <title>layout</title>
</head>
<body>

<h2>
Tree control</h2>

<center>
<p><br><img SRC="LAYOUTV2.GIF" height=397 width=587></center>

<p><br>
<br>
<br>
<br>
<br>
<p>Jack and me agree to use a tree control for regions/viewport/medias
<p>It should resolve a lot of problems (hierarchical region management,
copy/paste, ...) and would be much clearer that the set of controls in
the current implementation.
<h2>
How select the medias/regions showed in the layout view</h2>
This question is very important. The facility for the user to use the layout
view depends a lot of that. If there is no simple way for the user to show
the regions/medias when he wants he'll preffer throw away this view (and
the editor). In another hand, we can't show all the time all medias in
the same time.
<p>Jack and me seems agree that the medias/regions showed/hided in the
layout view should be as automatic as possible.
<p>The first following suggestion that Jack and me thought raise some important
problems
<h4>
first suggestion</h4>
- To use selection and multi-selection to determinate which media/region
showed in the layout view, and not using an automatic selection according
to the timimg information (look at the point F1)
<br>- To avoid inconsistent problem, any selection from the layout view
shouldn't affect the global focus
<p>To know the main problems you may have:
<p>First look at the document layoutpb1doc (in work format). In addition
you may the following problems:
<p>- When you play the document and pause it for editing, you have to show
the 'playing' nodes, and not the selected nodes anymore: confusing for
the user. And what happen if you pause, and select nodes which are not
playing
<p>- We can't re-use the same kind behavior for the regions, because, in
this case you may want to have an overview of your entire document
<p>- If you edit a node and change the view, it may be extremely confusing
(thinking that you have a single selection)
<h4>
new suggestion (Jack agree ??)</h4>
I think that the current implementation and the previous explanation show
that for many operations (even basic operation), it becomes very confusing
for the user if we don't manage only one global focus which is propaged
in all the views whichever the view. In another hand, it's very good to
have direct feedback in the previous area when you select a node.
<p>What I suggest is:
<p>- keep only one global focus which is propagated whichever the view
<br>- show/hide the media nodes in the previous area with the following
rules:
<p>a) If you select one or several medias from any view (except the layout
view), show only the medias which are the focus in preview area (of layout
view).
<br>b) If you change the selection from the layout view, don't affect the
medias showed in the previous area. If you want hide/show some medias in
the layout view (during you working in the layout view), you can do if
you use the 'alt' key (on Windows).
<br>c) you optional manage a 'alt' key (on windows) from any view: the
semantic would be: show/hide the media
<p>- add an extra indicator in the region tree to show the media / (region)
showed. This indicator may be as well updated when you play and pause the
document.
<p>For the region, we may have two options: show all regions all the time
(may according to thw switch ?), or only the regions which contain the
medias showed. In addition, you may affine the showed/hided region with
the 'alt' key
<p>In addition, we may have an option (which would be the default during
playing mode), to show the medias/regions according to all medias showed
in the same time that the selected node.
<p>This suggestion should be easily applicable for the most current work-flow:
<p>1)
<p>a) First, to create all regions in the layout view
<br>b) To add the media nodes from the structure view, and choice a region
for each of them
<br>c) refine media positioning
<p>2)
<p>a) First create all media nodes from the structure view
<br>b) create the regions in the layout view
<br>c) choice a region for each media (using drag and drop)
<br>d) refine the media positioning
<p>3)
<p>a) First create all regions in the layout view
<br>b) create the basic timing structure
<br>c) drag and drop directly some medias files (for example index), into
the layout view, and drop media nodes (from structure view) the others
medias
<br>d) refine the timimg
<h2>
Background color and bacground edit image</h2>

<h3>
background image</h3>
Goal: help to position regions/medias
<p>we all agree
<h3>
background color</h3>
I suggest to keep three global options:
<p>- show real background color
<br>- show only line for regions
<br>- show background as:
<p>image or bgcolor according to z-order, or ... ?: to define.
<p>Jack and me agree the two first points
<br>Jack is not conviced by the third point. I'd like to experiment it
<h2>
Region abstraction (Jack suggestion)</h2>
For simple cases (when only one media is played in a region without sub-region
positioning), hide the media node (in the region tree) and edit directly
the region geometry instead to be able to edit separatly region and media.
<h4>
avantages</h4>
- It should avoid to user to manage the both region and media for some
cases.
<br>- It should be clearer for some cases.
<br>- If you want to use your document as a kind of 'template', you won't
need to re-position for each document the medias
<h4>
inconvenients</h4>
- it may be very confusing to show sometimes a node for the both region/media
and sometimes region and media in the tree. Same pb for editing.
<p>- you can manage this case only if you have:
<br>one media in a region. (It shouldn't be the case for the nodes which
are played in sequence). So, not applicable on document of type 'slideshow'.
Or, when if we are sure that we can have only one node showed in the same
time (seq without special timimg attribute), we may apply this rule ?
<h4>
my point of view (Jack agree ??)</h4>
I think that if the user want to create a special region to put a media
inside, he will be able anyway to edit only the region (without to show
the media inside). It's the default mode when no media is selected. In
addition, if the user want to make a template, the media showed inside
the region won't be helpful for him. Maybe yes ?, because the user user
will see directly a media inside the region.
<p>In general, we should all the time keep in mind the two separate concepts:
<p>region: abstract area where the media are played
<br>media: item that you play
<p>it shouldn't be difficult even for a basic user to understand this,
and should be much simpler for him to keep all the time it's two concept
separated if we can't manage them together all the time (at least for the
basic functionalities)
<p>So,&nbsp; this region abstraction level may raise new problems. Maybe,
you may make it optional, but without affect the tree region
<h2>
region positioning/alignment (Jack agree ??)</h2>

<h3>
General informations</h3>
a) static positioning rules: the user can position/align the medias directly
in pixel. If you resize/move in using animating or editing, you may loose
some positioning constraint (for example: if you center a media inside
a region)
<br>This mode should be good enough for simple documents.
<p>b) dynamic positioning rules: it may be interresting in many cases to
express a size relative to its parent, center a media which ever the parent
geometry. The raison may be:
<p>- you don't know the target size
<p>example:
<p>&lt;smil ...>
<br>&lt;layout>
<br>&lt;viewport>
<br>&nbsp;&nbsp;&nbsp; &lt;switch>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;region regionName="region1"
width="600" height="500" systemScreenSize="1280X1024" />
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;region regionName="region1"
width="300" height="200" />
<br>&nbsp;&nbsp;&nbsp; &lt;/switch>
<br>&lt;/viewport
<br>&lt;/layout>
<p>&lt;body>
<br>&nbsp;&nbsp;&nbsp; &lt;video src="video1.jpg" regPoint="center" regAlign="center"
region="region1" />
<br>&lt;/body>
<br>&lt;/smil>
<p>- you want make a document and export it with different viewport size,
or re-use a part
<p>-&nbsp; have more animation possibilities
<br>...
<h3>
Features that we should provide</h3>
- to position a region
<br>- to align several regions (using palette or menu)
<br>- to rezize a region
<p>Note: the align tools for regions should be the same as for medias
<h3>
Advanced features:</h3>
To be able to edit relative positioning (pourcent value/ right, bottom
constraints), we may provide in option (may be from a property dialog box
for now) some controls to edit raw values (in pourcent or pixel)
<h2>
media positioning/sub-regions&nbsp; (Jack agree ??)</h2>
Contrary to the region, we may easier apply the following rules with the
sub-regions (all the time there is one media by sub-region):
<p>- to show in the layout view the real positioning, background, z-index,
regpoint attributes, ...
<br>- to edit the media/sub-region as the same item
<p>The common functionalities that the user should need for the positioning
are:
<p>- position a media by direct mouse manipulation inside a region
<br>- position a media using alignment tools inside a region
<br>- position a media using registration point inside a region
<br>- change the media size, and the fit behavior, fast back to intrinsic
size, ...
<br>- cropping
<p>To provide this set of functionalities, we have to do some translations
between, what the user edit, and the internal representation (using sub-regions
and SMIL CSS rules). the result of this functionalities can be translated
to SMIL 2 language except mainly:
<p>- cropping: I suggest to give up for now this option
<br>- if you resize a media (with fit different of hidden), then you want
to align (using regpoints) the result inside the region. It's possible
to simulate this case, but the alignment constraint will be static (not
dynamic). So, it shouln't be a problem for the most of documents, and the
user may use in this case
<p>We have to as well be able to show more complex SMIL2 documents. For
this case, I suggest for now to break some original constraints if you
edit the document (for example, if you mix sub-region and regPoint attributes)
<br>&nbsp;
<h2>
To merge the layout view into the player view ???</h2>
would be nice. But two major pbs:
<p>- implementation without break the player ???.
<br>- how do you manage multi-toplevel ???. one window by top-level seems
me to many windows opened. Or maybe can we manage all topLevel windows
(for player) in the same windows ?
<h2>
Drag and drop</h2>
- We should be able to drag and drop node (from any view) to the layout
view (region tree or previous area)
<br>- The same things for the media files
<h2>
General layout view issues</h2>
Scale, scroll bar should be a requierement
<br>To be able to grow the view (I think very useful): should ask to Kleanthis
for Windows / and Jack for Mac if there is an easy way to implement this.
<h2>
General requierement</h2>
- using drag and drop is very useful, it should be possible for the user
to place his differents views on the screen without overlap
<br>- we have to manage separatly the global focus, and the nodes showed/hided.
<br>- multiselection is a requiement for some operations
<h2>
Implementation issues</h2>
The longer to implement should be:
<p>- low level extension (or API) : drag and drop support, be able to grow
(eventualy), ...
<br>- implement the tree control. We should interface window/mac native
API to Python API. But maybe we may re-use an existing implementation ?
<br>- palette support
<br>&nbsp;
<br>&nbsp;
</body>
</html>
