*******************************************************************
*** Don't delete entries that have been dealt with -- move them ***
*** to the "FIXED" section at the end of this file!             ***
*******************************************************************

------------------------------ BUGS -------------------------------

block view calculates geometry wrong after sequence of zoom in -
enlarge window - zoom out

hyperjumps often beep when the mouse up event arrives

Line 449 in ImageChannel refs 'os' which isn't imported

When starting a document with the pause button: (a) no images or texts
appear; and (b) the cursor stays a watch.

Player: playing multiple nodes in parallel on the same channel causes
crashes or generally weird behaviour (each channel should protect
itself against this!)

Timing: sometimes the cached timings are bogus and save + restore is
needed to fix them.  E.g. after changing a bag node to a seq node...

--------------------- UNSOLVED MISTERIES --------------------------

block view: sometimes the outermost box size is calculated wrong and
part of the window remains unused.  (Hard to reproduce; usually after
heavy inserting / deleting of nodes and/or zooming in/out?)  [maybe
fixed by the fix that fixes crash on modifying the root node?]  [maybe
replaced by zoom in - resize - zoom out problem, above]

player: *sometimes* crash in opt_prearm at self.rtpool.enter(...) when
playing node w/o channel [hard to reproduce?]

FORMS: When one FORM is iconified, *after a while* all events are
queued, but not acted upon, so the program hangs.  Is this a standard
FORMS bug or do I do something wrong with handling GL events?  (Not
reproducible in very simple prog?)

FORMS: events for subwindows get lost.  [does this still happen?]

edit mgr: doesn't fix channel dictionary  [not confirmed]

still occasional problems with the font manager?  (should slowly be
fixed in 4.0.2+).  [maybe connected with malloc() crash?]  [maybe
connected with imgfile bugs (now fixed)?]

toplevel: sometimes complaint about unknown command when clicking in
toplevel menu while things are busy?

------------------------------ TOO BAD ----------------------------

block view: resize behavior is weird (menu bar height changes)

------------------------------ PERFORMANCE ------------------------

Do garbage collection of windows, esp. forms (or DGL runs out eventually...)
[Partly done]

Timing: takes ages -- why?  [sped up ~30% by caching getduration in
sound & movie channel]

sound channel: arm seems slow?

movie channel: loading colormap (& other things done at arm time)
takes ages  [somewhat solved by not loading it when a clear() is
sufficient]

------------------------------ FEATURES ---------------------------

channel view: want to cut and paste channels

channel view: need to warn if a channel with nodes is deleted

player: need "keep" attribute (default 0?) to keep a node on the
screen after its time is up

------------------------------ NITS -------------------------------

sync arcs whose source is lost are kept around for no good reason

if a channel is off, display it in a different color in the channel view

block & channel view: use channel colors instead of default (gray)?

hyperjumps are confusing because of the long wait between the clearing
of the windows and the appearance of new data [half fixed by adding a
watch cursor]

node info: could use a 'convert to ext' button for imm text nodes.
(in general more operations should be available everywhere)

block & channel views: show only 'info' in menu, but support shortcuts
for attributes and anchors (?)

Player: "late" display keeps old value during initialization.

arc editor: need a text box to specify the delay as well

channel view: settings of new sync arc can be copied from last created
or edited one?

general: need a template for a simple e-mail document

player: when playing a subtree, should make sure that at least one
 	of the channels it uses is on?

-------------------------- EXAMPLES -------------------------------

VanGogh demo: move data to subdirectory.

--------------------------- PROJECT MANAGEMENT --------------------

-------------------------- LYNDA'S NOTES --------------------------

*    Menus in hierarchy and time chart window are different:
     In Time chart you can use the right mouse button anywhere in the
     window.  In the Hierarchy you need to go to the menu.
     (Shortcuts are the same?)
     The reason is that the Hierarchy window was produced with the Forms
     library.

*    The ordering of channels in the Time chart window cannot be changed.
     (I had wanted to put a frequently occurring channel next tot he two
     which are always there.)

*    It would be nice to see, in the Hierarchy window, which nodes have their
     time explicitly defined.  [first part is fixed --Guido]
     However, there are perhaps more things which
     could be shown in the window, and a list of priorities could usfully be
     made. 

*    Some of the information in "Node Attribute" and "Node Information" is
     the same, but the format is different.  This is because the desired
     methods of editing the attributes haven't been implemented.

*    It would be nice if the user could change the automatically specified
     width of the parallel nodes in the Hierarchy window.
     One solution would be to take into account the number of channels
     involved with each node and to divide the width accordingly.

*    I was unable to use the input text box for Immediate text without
     further (human) help. The interface is very strange.  [Should use
     multiline input objects that are now available in FORMS]

---
21/4/92

*    When waiting for next pieces of data to load ('cos done a hyperjump), then
     leave the current ones in the Channel showing until the new ones are
     ready.  Show a wait cursor while waiting.  [fixed (at least for
     windows managed by the player) 1-Sep-92]

---
22/4/92

*    Channels need a "Z" position, so that when channels overlap the author
     can define which should be on top.  [Or an activated channel
     should pop up, like they do now.]

*    Background colour for a Channel could be transparent.  [no -- too
     difficult in GL/X --Guido]

*    Give feedback when choosing/activating an anchor (or linked node), so
     the reader knows that the anchor has, or has not, been selected.
     [partly solved by watch cursor.]

---
13/5/92

*    Showing the other anchors while drawing an anchor in a node would be
     very useful for lining up the boundaries of the anchor being edited.
     [fixed for image channel --Guido]

---
14/5/92

*   In the Link editor window, if you are looking at All the anchors, and
    have one selected then there is no "Edit Anchor" button.  If you then
    choose to look at the anchors "From Block View Focus" then the "Anchor
    editor..." button appears.  I'd like the button to be available
    whenever an Anchor is selected.

    (I'd also quite like an "OK" button in the Link editor (even if it
    doesn't actually *do* anything), since I always have the feeling when I
    close the window that my changes will get thrown away.)

---
20/5/92

*   It would be nice, when creating a new channel, to be able to choose the
    type of a new channel from a list of possible types.  (I keep typing in
    a wrong name and then CMIF crashes.)
    [fixed --Guido]

*   I keep wanting to point at a node in the Player and then edit the
    contents, since that's the thing I'm concentrating on (at the time) and
    I want to change *that* text.  (This is more of an observation than an
    actual request for change.)
    [fixed, sort of, by adding a menu to channel windows --Guido]

---

-------------------------------------------------------------------
------------------------------ FIXED ------------------------------

player: crashes if a node has no valid channel

MMWrite.writename: empty string as name is not quoted

editmgr: deleting attrs that don't exist breaks

X??? FORMS???:	the lower half of the toplevel menu is cleared to white
		when the player is opened, *if* there is an image or
		movie window.  Moving the menu fixes it...
		[turned out that clear() called gl.clear() even if wid=0...]

info window: need a button to edit or create 'ext' data

info window: window doesn't disappear when restore destroys the tree

toplevel: hierarchy button light stays on when view is closed by restore

info window: should be smaller

movie channel: crash when a "2.0" movie is presented

player: color used for clearing various windows (text, image, movie)

need global clipboard module

block view: needs Copy command as well

text channel: font spec should be a node attribute (as well as colors)

text channel: join lines, but use blank lines to separate paragraphs...

need quit dialog if there are unsaved changes (also for restore)

channel info: if you change the channel name, all nodes are disinherited!
(NB: can fix the tree, but not the clipboard...)

channel view: curtim bug

channel view: node focus not redrawn on commit

channel view: 'bad setsyncarcdelay call' when editing a sync arc

channel view: crashes if a leaf node has no valid channel

channel view: if root is selected, focus isn't shown

channel view: open it, then close; open in the block view a node that
was closed; and then 'add' there.  This crashes the channel view...

channel view: doesn't notice when a node has moved to another channel

channel view: draws sync arcs even when an end is not on any channel

channel view: when an existing node that had no channel re-appears, it
isn't drawn

channel view: when selecting multiple nodes, goes up one level too much

channel view: newly added arcs are drawn twice, once with the wrong
timing information (before the commit)

channel view: can't create channels once the last channel is deleted...

text channel: after a while the font manager fails with
"ValidateFont: fmfntread failed."
("fixed in IRIX 4.0.1" --- indeed)

time chart: when the player is stopped, active or armed nodes aren't reset.

top level: should close help window on "Restore"

player: should remember & save which channels are "off"

image channel: bad image file (e.g. /dev/null) causes exit(0)

channel view: need commands to add/delete channels

channel attr: crash when applying 'reset' to channel name

(- - - channel view rewritten - - -)

channel view: deleted arc is still drawn

channel view: add channel complains about duplucate name

channel view: add channel doesn't make the new channel the focus

channel view: doesn't draw thermo on show()

channel view: resize behavior is weird

channel view: many double redraws

channel view: new channel, new arc should select & open info for the new object

channel view: open info window on new sync arc

channel view: needs command structure like block view

channel view: get rid of dialog on wrong character

channel view: should display no dialogs when transactions fail

channel view: help is printed on stdout

channel view: uninformative dialog box for unknown keyboard input
(should beep)

arc edit: larger delay range

MovieChannel: center the image.

*    I would very much like to see unused channels not appear on the
     screen.  So that text windows can appear where the film window was,
     and so on.  Otherwise all the channels have to occupy different places
     on the screen, and only half are ever used at any one time, and the
     presentation has no cohesion.
     *** solution: channel windows pop up when a new node is displayed ***

*    I wanted to be able to change the node type
                                  *** of many similar nodes ***
                                                 later.  This is because I
     want to draw some pictures, but until then I want a temporary text
     window.  This is possible by creating a style and making the channel
     part of the style information.

*    I hadn't noticed that there was a visual difference between leaf nodes
     and non-leaf nodes in the Hierarchy view.  Leaf nodes have their names
     in the middle.  Non-leaf nodes have their names at the top, and have a
     small box top left.

?: turning borders off for a channel might affect the wrong window

block view: open/close must be done different; opening something that
had a red button before zooming should open all of it, not keep it
closed... [fixed long ago]

general: sometimes, after a while the entire CMIF editor hangs...
[not reproduced for a long time]

movie channel: takes so much priority that sound doesn't play and
buttons don't react

form loader: parsing .fd files takes ages [mostly fixed by caching]

blockview: "paste before" als de focus de viewing root is (maar niet
de echte root) crasht

player: on commit, all channels pop up

player prints "Huh? Nothing in the queue?"

all channels: preparing a node pops its window (should be done on real
play only)

all: When a view FORM is closed using 4DWm's close menu item, it takes
a while before events get handled again.
[this went away without action.]

channel view: "delete channel" is mapped to "channel attrs"

Timing: (opt)calctimes isn't a very meaningful name.

player: when reaching a bag node through a hyperjump, should call
choosebagitem()

block & channel view: want to show other view's focus

channel view or Timing: sometimes calctimes for partial tree is
affects lay-out in channel view.  (May be a channel view bug?)
[fixed by always calculating the timing for the root of the current
mini document]

general: perhaps use CVS for project management

*    It would be nice to see, in the Hierarchy window, which nodes have their
     time explicitly defined.

*    Show in time chart "pause" anchors/nodes (for example a heavy line at
     the end of the node).     

Need uniform approach to configuration files/directories (help directory,
Attrdefs, .cmif_editors -- what else?)

block view: get rid of dialog on wrong character

block view: should beep instead of pop up a dialog offering help for
wrong keyboard entry (a static help button in the menu bar is a better
way to offer help)

--- 20 May 1992 ---

block view: don't open info dialog for commands S, P, B

channel view: show beginning of string when truncating, not center

toplevel: WINQUIT handler uses quit_button instead of quitbutton

channel view: crash in Timing when 'N' command reaches a
new empty par node (that hasn't got a "t1" yet)

sound channel: crashes if openport fails (if there are too many ports open)

*    As a "real" author it would be extremely useful to have access to a
     comments field for each node.  I would then be able to add details like:
     "this is some filler text till I get round to drawing a picture";
     "I'm not sure that the structure needs to be this deep, so maybe I
     should delete this later".

--- 25 May 1992 ---

channel view: the font still isn't set right when selecting an object
[fixed by changing ../lib/{glwindow.py,Dialog.py} to call w.setwin()
instead of gl.winset(...).

player: should ask "do you want to stop playing" before denying a
transaction

channel view: should redraw arrows after updating a single node

--- 11 Jun 1992 ---

node/channel attr editors: when clicking OK, if the window size
changes (because the list of defined attributes changes), the new
window pops up for a nanosecond (:-) and then disappears again

channel view: use a modal pop-up menu when creating a new channel

add an action menu to channel windows (active only in stopped mode)

--- 24 Jun 1992 ---

Python crashes in malloc() in Lynda's Amsterdam demo when the player
is opened and more than 18 channels exist ["fixed" by linking with
-lmalloc].

blockview: when the focus is the view root, deleting it crashes.

image channel: scale isn't always done right for anchors.

attr edit: choose different ways of presenting/editing different types
[fixed for types bool, string, name, and for displayer types file, font,
channelname, channeltype]

--- 1 Sep 1992 ---

when the root is a leaf, modifying it (e.g. clicking OK after a change
in node info or node attr window) while the block view is showing it
crashes in BlockView.py line 83:
    self.mkBlockview(modnode.bv_xywh, modnode)

attribute editor: the font menu is too big.  should split it in a font
family and a font style menu...

improved performance (see cvs log messages).

node info: want a menu of commands just like those in other windows
